% Generated by roxygen2: do not edit by hand
% Please edit documentation in create-FSHybridPLS.Rmd.
\name{fit_hybrid_pcr_iterative}
\alias{fit_hybrid_pcr_iterative}
\title{Iterative Hybrid Principal Component Regression}
\usage{
fit_hybrid_pcr_iterative(W_train, y_train, W_test, y_test, n_comp_max = 10)
}
\arguments{
\item{W_train}{A /code{predictor_hybrid} object containing training data.}

\item{y_train}{A numeric vector of training response values.}

\item{W_test}{A /code{predictor_hybrid} object containing test data.}

\item{y_test}{A numeric vector of test response values.}

\item{n_comp_max}{Integer. The maximum number of principal components to include
in the regression models. Defaults to 10.}
}
\value{
A list containing:
/item{validation_rmse}{A numeric vector of length /code{n_comp_max} containing
the RMSE on the test set for each model complexity level.}
}
\description{
Fits a Principal Component Regression (PCR) model that integrates both scalar and
functional predictors. The function performs dimensionality reduction separately
for each modality and iteratively fits linear models with an increasing number
of principal components.
}
\details{
The workflow consists of three main stages:
/enumerate{
/item /strong{Scalar PCA:} Performs standard PCA on the scalar matrix /code{Z}.
Test data is projected onto the training rotation matrix.
/item /strong{Functional PCA:} Performs FPCA on each functional predictor using
the /code{fda} package. Crucially, test curves are centered using the
/emph{training mean function} before projection onto training harmonics
to prevent data leakage.
/item /strong{Iterative Regression:} Fits a series of linear models (/code{lm}).
Model /code{l} includes the first /code{l} principal components from
both the scalar and functional sets.
}
}