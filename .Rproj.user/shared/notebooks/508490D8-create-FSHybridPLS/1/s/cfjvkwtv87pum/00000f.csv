"0","#' Construct block-diagonal Gram matrix for hybrid predictor"
"0","#'"
"0","#' Returns a block-diagonal matrix containing the Gram  matrices for"
"0","#' each functional component and an identity matrix for the scalar part."
"0","#'"
"0","#' @param obj A `predictor_hybrid` object."
"0","#'"
"0","#' @return A block-diagonal matrix of size `(total_dim Ã— total_dim)` where"
"0","#' functional and scalar components are arranged in order."
"0","#' @export"
"0","get_gram_matrix_block <- function(obj) {"
"0","  if (!inherits(obj, ""predictor_hybrid"")) {"
"0","    stop(""Input must be of class 'predictor_hybrid'."")"
"0","  }"
"0",""
"0","  gram_blocks <- c(obj$gram_list, list(diag(obj$n_scalar)))"
"0","  Matrix::bdiag(gram_blocks)"
"0","}"
"0",""
