"0","#' Compute First PLS Component (Direct Hilbert Averaging)"
"0","#'"
"0","#' Computes the first PLS component as a normalized weighted average of predictor objects,"
"0","#' where weights are given by the centered response values."
"0","#'"
"0","#' @param W A `predictor_hybrid` object containing `n_sample` observations."
"0","#' @param y A numeric response vector of length `n_sample`."
"0","#'"
"0","#' @return A normalized `predictor_hybrid` object representing the first PLS component."
"0","#' @export"
"0","get_pls_comp_simple <- function(W, y) {"
"0","  n <- W$n_sample"
"0","  if (length(y) != n) stop(""Length of y must match number of samples in W."")"
"0",""
"0","  # Center the response (optional, but often improves interpretability)"
"0","  y_centered <- y - mean(y)"
"0",""
"0","  # Initialize zero element"
"0","  xi_sum <- scalar_mul.predictor_hybrid(subset_predictor_hybrid(W, 1), y_centered[1])"
"0","    "
"0",""
"0","  # Accumulate weighted sum: sum_i y_i * W_i"
"0","  for (i in 2:n) {"
"0","    Wi <- subset_predictor_hybrid(W, i)"
"0","    xi_sum <- add.predictor_hybrid(xi_sum, Wi, alpha = y_centered[i])"
"0","  }"
"0",""
"0","  # Normalize"
"0","  xi_sum <- scalar_mul.predictor_hybrid(xi_sum, 1/n)"
"0","  norm_val <- sqrt(inprod.predictor_hybrid(xi_sum))"
"0","  xi_hat <- scalar_mul.predictor_hybrid(xi_sum, 1 / norm_val)"
"0",""
"0","  return(xi_hat)"
"0","}"
"0",""
